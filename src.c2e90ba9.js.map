{"version":3,"sources":["js/gallery-items.js","js/task-1-class-done.js","js/main.js","index.js"],"names":["preview","original","description","smartGallery","params","imagesArray","imagesArr","galleryRef","buttonRef","modalRef","modalImageRef","closeButtonRef","prototype","operateLightbox","event","console","log","code","closeLightbox","moveRightLightbox","moveLeftLightbox","bind","imagesString","reduce","acc","insertAdjacentHTML","children","length","addImages","target","textContent","addEventListener","openLightbox","classList","toggle","removeEventListener","preventDefault","tagName","addDocListener","add","document","body","style","overflow","src","dataset","source","alt","currentIndex","Array","from","querySelectorAll","indexOf","once","setTimeout","remove","moveImages","removeDocListener","initialParams","querySelector","myGallery","openGallery"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;AC0GZ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EA1GH,IAAA,EAAA,EAAA,QAAA,oBA0GG,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAzGkBC,IAAAA,EAAAA,WACPC,SAAAA,EAAAA,GAAQC,IAAAA,EAAcC,UAAAA,OAAAA,QAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,EAAW,QAAA,EAAA,KAAA,GACtCC,KAAAA,WAAaH,EAAOG,WACpBC,KAAAA,UAAYJ,EAAOI,UACnBC,KAAAA,SAAWL,EAAOK,SAClBC,KAAAA,cAAgBN,EAAOM,cACvBC,KAAAA,eAAiBP,EAAOO,eACxBN,KAAAA,YAAcA,EACnBF,EAAaS,UAAUC,gBAAkB,SAAUC,GACjDC,QAAQC,IAAIF,EAAMG,MACC,WAAfH,EAAMG,MACHC,KAAAA,gBAEY,eAAfJ,EAAMG,MACHE,KAAAA,oBAEY,cAAfL,EAAMG,MACHG,KAAAA,oBAEPC,KAAK,MAsFR,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,YApFW,MAAA,WACJC,IAAAA,EAAe,KAAKjB,YAAYkB,OACpC,SAACC,EAA4C,GAArCxB,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAcjBsB,OAAAA,EAVJvB,0EAAAA,OAAAA,EAICD,+DAAAA,OAAAA,EACQC,0BAAAA,OAAAA,EACRC,kBAAAA,OAAAA,EATL,6BAeF,IAEGK,KAAAA,WAAWkB,mBAAmB,YAAaH,KAgEjD,CAAA,IAAA,cA9DWR,MAAAA,SAAAA,GAC8B,IAApC,KAAKP,WAAWmB,SAASC,QACtBC,KAAAA,YACLd,EAAMe,OAAOC,YAAc,gBACtBvB,KAAAA,WAAWwB,iBAAiB,QAAS,KAAKC,aAAaX,KAAK,SAE5Dd,KAAAA,WAAW0B,UAAUC,OAAO,aACA,kBAA7BpB,EAAMe,OAAOC,YACfhB,EAAMe,OAAOC,YAAc,eAE3BhB,EAAMe,OAAOC,YAAc,mBAoDhC,CAAA,IAAA,iBAhDgB,MAAA,WACVvB,KAAAA,WAAWwB,iBAAiB,UAAW,KAAKlB,mBA+ClD,CAAA,IAAA,oBA7CmB,MAAA,WACbN,KAAAA,WAAW4B,oBAAoB,UAAW,KAAKtB,mBA4CrD,CAAA,IAAA,eA1CYC,MAAAA,SAAAA,GACXA,EAAMsB,iBACuB,QAAzBtB,EAAMe,OAAOQ,UACZC,KAAAA,iBACA7B,KAAAA,SAASwB,UAAUM,IAAI,WAC5BC,SAASC,KAAKC,MAAMC,SAAW,SAC1BjC,KAAAA,cAAckC,IAAM9B,EAAMe,OAAOgB,QAAQC,OACzCpC,KAAAA,cAAcqC,IAAMjC,EAAMe,OAAOkB,IACjCC,KAAAA,aAAeC,MAAMC,KACxBV,SAASW,iBAAiB,oBAC1BC,QAAQtC,EAAMe,QACXlB,KAAAA,eAAeoB,iBAClB,QACA,KAAKb,cAAcG,KAAK,MACxB,CAAEgC,MAAM,OA4BX,CAAA,IAAA,aAzBY,MAAA,WAAA,IAAA,EAAA,KACN3C,KAAAA,cAAcuB,UAAUM,IAAI,SAC5B7B,KAAAA,cAAckC,IAAM,KAAKvC,YAAY,KAAK2C,cAAc/C,SACxDS,KAAAA,cAAcqC,IAAM,KAAK1C,YAAY,KAAK2C,cAAc9C,YAC7DoD,WAAW,WAAM,OAAA,EAAK5C,cAAcuB,UAAUsB,OAAO,UAAU,OAqBhE,CAAA,IAAA,oBAnBmB,MAAA,WACd,KAAKP,eAAiB,KAAK3C,YAAYsB,OAAS,IAC7CqB,KAAAA,cAAgB,GAElBA,KAAAA,cAAgB,EAChBQ,KAAAA,eAcN,CAAA,IAAA,mBAZkB,MAAA,WACS,IAAtB,KAAKR,eACFA,KAAAA,aAAe,KAAK3C,YAAYsB,QAElCqB,KAAAA,cAAgB,EAChBQ,KAAAA,eAON,CAAA,IAAA,gBALe,MAAA,WAAA,IAAA,EAAA,KACT/C,KAAAA,SAASwB,UAAUsB,OAAO,WAC/BD,WAAW,WAAO,OAAA,EAAK5C,cAAckC,IAAM,IAAK,KAChDJ,SAASC,KAAKC,MAAMC,SAAW,OAC1Bc,KAAAA,wBACN,EAzGkBtD,GAyGlB,QAAA,QAAA;;AC9FH,aAZA,IAAA,EAAA,EAAA,QAAA,wBAYA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAVA,IAAMuD,EAAgB,CACpBnD,WAAYiC,SAASmB,cAAc,YACnCnD,UAAWgC,SAASmB,cAAc,aAClClD,SAAU+B,SAASmB,cAAc,aACjCjD,cAAe8B,SAASmB,cAAc,oBACtChD,eAAgB6B,SAASmB,cAAc,sBAGnCC,EAAY,IAAIzD,EAAJ,QAAiBuD,GAEnCE,EAAUpD,UAAUuB,iBAClB,QACA6B,EAAUC,YAAYxC,KAAKuC;;ACb7B,aADA,QAAA,oBACA,QAAA","file":"src.c2e90ba9.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","import imagesArr from \"./gallery-items\";\r\nexport default class smartGallery {\r\n  constructor(params, imagesArray = imagesArr) {\r\n    this.galleryRef = params.galleryRef;\r\n    this.buttonRef = params.buttonRef;\r\n    this.modalRef = params.modalRef;\r\n    this.modalImageRef = params.modalImageRef;\r\n    this.closeButtonRef = params.closeButtonRef;\r\n    this.imagesArray = imagesArray;\r\n    smartGallery.prototype.operateLightbox = function (event) {\r\n      console.log(event.code);\r\n      if (event.code === \"Escape\") {\r\n        this.closeLightbox();\r\n      }\r\n      if (event.code === \"ArrowRight\") {\r\n        this.moveRightLightbox();\r\n      }\r\n      if (event.code === \"ArrowLeft\") {\r\n        this.moveLeftLightbox();\r\n      }\r\n    }.bind(this);\r\n  }\r\n  addImages() {\r\n    const imagesString = this.imagesArray.reduce(\r\n      (acc, { preview, original, description }) => {\r\n        let oneImageString = `<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"${original}\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      alt=\"${description}\"\r\n    />\r\n  </a>\r\n</li>`;\r\n        return (acc += oneImageString);\r\n      },\r\n      \"\"\r\n    );\r\n    this.galleryRef.insertAdjacentHTML(\"beforeend\", imagesString);\r\n  }\r\n  openGallery(event) {\r\n    if (this.galleryRef.children.length === 0) {\r\n      this.addImages();\r\n      event.target.textContent = \"Close Gallery\";\r\n      this.galleryRef.addEventListener(\"click\", this.openLightbox.bind(this));\r\n    } else {\r\n      this.galleryRef.classList.toggle(\"is-hidden\");\r\n      if (event.target.textContent === \"Close Gallery\") {\r\n        event.target.textContent = \"Open Gallery\";\r\n      } else {\r\n        event.target.textContent = \"Close Gallery\";\r\n      }\r\n    }\r\n  }\r\n  addDocListener() {\r\n    this.galleryRef.addEventListener(\"keydown\", this.operateLightbox);\r\n  }\r\n  removeDocListener() {\r\n    this.galleryRef.removeEventListener(\"keydown\", this.operateLightbox);\r\n  }\r\n  openLightbox(event) {\r\n    event.preventDefault();\r\n    if (event.target.tagName !== \"IMG\") return;\r\n    this.addDocListener();\r\n    this.modalRef.classList.add(\"is-open\");\r\n    document.body.style.overflow = \"hidden\";\r\n    this.modalImageRef.src = event.target.dataset.source;\r\n    this.modalImageRef.alt = event.target.alt;\r\n    this.currentIndex = Array.from(\r\n      document.querySelectorAll(\".gallery__image\")\r\n    ).indexOf(event.target);\r\n    this.closeButtonRef.addEventListener(\r\n      \"click\",\r\n      this.closeLightbox.bind(this),\r\n      { once: true }\r\n    );\r\n  }\r\n  moveImages() {\r\n    this.modalImageRef.classList.add(\"scale\");\r\n    this.modalImageRef.src = this.imagesArray[this.currentIndex].original;\r\n    this.modalImageRef.alt = this.imagesArray[this.currentIndex].description;\r\n    setTimeout(() => this.modalImageRef.classList.remove(\"scale\"), 200);\r\n  }\r\n  moveRightLightbox() {\r\n    if (this.currentIndex === this.imagesArray.length - 1) {\r\n      this.currentIndex = -1;\r\n    }\r\n    this.currentIndex += 1;\r\n    this.moveImages();\r\n  }\r\n  moveLeftLightbox() {\r\n    if (this.currentIndex === 0) {\r\n      this.currentIndex = this.imagesArray.length;\r\n    }\r\n    this.currentIndex -= 1;\r\n    this.moveImages();\r\n  }\r\n  closeLightbox() {\r\n    this.modalRef.classList.remove(\"is-open\");\r\n    setTimeout(() => (this.modalImageRef.src = \"\"), 200);\r\n    document.body.style.overflow = \"auto\";\r\n    this.removeDocListener();\r\n  }\r\n}\r\n","import smartGallery from \"./task-1-class-done\";\r\n\r\nconst initialParams = {\r\n  galleryRef: document.querySelector(\".gallery\"),\r\n  buttonRef: document.querySelector(\".open-btn\"),\r\n  modalRef: document.querySelector(\".lightbox\"),\r\n  modalImageRef: document.querySelector(\".lightbox__image\"),\r\n  closeButtonRef: document.querySelector(\".lightbox__button\"),\r\n};\r\n\r\nconst myGallery = new smartGallery(initialParams);\r\n\r\nmyGallery.buttonRef.addEventListener(\r\n  \"click\",\r\n  myGallery.openGallery.bind(myGallery)\r\n);\r\n","import './sass/main.scss';\r\nimport './js/main.js';\r\n"]}